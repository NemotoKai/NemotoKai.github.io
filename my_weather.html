<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
        table,tr,td,th{
            border: 1px;
        }
    </style>
  </head>
  <body>

      <table>
          <tr id = "date">
          </tr>
          <tr id = "weather">
          </tr>
      </table>


    <script type="text/javascript">
        var xhr = new XMLHttpRequest();

        xhr.open('GET', "https://api.open-meteo.com/v1/forecast?latitude=35.6785&longitude=139.6823&daily=weathercode&timezone=Asia%2FTokyo");
        xhr.send();

        xhr.onreadystatechange = function() {
            if(xhr.readyState === 4 && xhr.status === 200) {
                let weathercode = JSON.parse(xhr.responseText)["daily"]["weathercode"][1];
                //document.write(weathercode);
            }
        }

        date = new Date();
        year = date.getFullYear();
        month = date.getMonth() + 1;
        day = date.getDate();
        var dArray = [7];
        for(var i=0;i<7;i++){
            dArray[i] = year + "-" + month + "-" + (day+i);
        }

        /*array = ["2022-6-16",
                 "2022-6-17",
                 "2022-6-18",
                 "2022-6-19",
                 "2022-6-20",
                 "2022-6-21",
                 "2022-6-22"];
        */

        array = [dArray[0],
                 dArray[1],
                 dArray[2],
                 dArray[3],
                 dArray[4],
                 dArray[5],
                 dArray[6]];

        let tr_date = document.getElementById('date');
        array.forEach(function(date) {
            tr_date.innerHTML = tr_date.innerHTML + date + "<br>";
        });

    </script>
    <!--天気予報情報テーブル-->

  </body>
</html>
